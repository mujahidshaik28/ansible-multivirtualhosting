- name: Update App slave server
  hosts: app

  tasks:
  - name: Ensure that httpd is installed
    package:
      name: httpd
      state: present

  - name: Ensure that httpd is started
    service:
      name: httpd
      state: started

  - name: Ensure that httpd is started
    service:
      name: httpd
      enabled: true

  - name: Ensure that git is installed
    package:
      name: git
      state: present

- name: Update Web slave server
  hosts: web

  tasks:
  - name: Ensure that httpd is installed
    package:
      name: httpd
      state: present

  - name: Ensure that httpd is started
    service:
      name: httpd
      state: started

  - name: Ensure that httpd is started
    service:
      name: httpd
      enabled: true

  - name: Ensure that git is installed
    package:
      name: git
      state: present

- name: Update Db slave server
  hosts: db

  tasks:
  - name: Ensure that httpd is installed
    package:
      name: httpd
      state: present

  - name: Ensure that httpd is started
    service:
      name: httpd
      state: started

  - name: Ensure that httpd is started
    service:
      name: httpd
      enabled: true

  - name: Ensure that git is installed
    package:
      name: git
      state: present
